{"ast":null,"code":"var _jsxFileName = \"/home/aayush/Desktop/Customer-service-automation/CustomerServiceAutomation/FrontEnd_CSA/customer_service_automation/src/ProductSelect.js\";\nimport React, { useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport './ProductSelect.css';\nimport { Link, useParams } from \"react-router-dom\";\nconst url = \"http://127.0.0.1:8000\"; // const requestOptions = {\n//     method: 'POST',\n//     headers: { 'Content-Type': 'application/json' },\n//     body: JSON.stringify([{\"user_id\":\"614ffa63-0c67-11eb-bdcf-03b990a51dac\",\"product_id\":\"5a5ea613-40a1-41b1-92f3-00fa4eb251d8\",\"product_quantity\":2},{\"user_id\":\"614ffa63-0c67-11eb-bdcf-03b990a51dac\",\"product_id\":\"5899b6bd-0b9e-48b9-be4b-4ccbf75188ab\",\"product_quantity\":1}])\n// };\n// fetch(url+'/placeorder', requestOptions)\n//     .then(response => response.json())\n//     .then(data => {return { postId: data.id }});\n\nfunction ProductSelect() {\n  const params = useParams();\n  const [ProductData, setProduct] = useState([]);\n  const [CartData, setCartData] = useState([]);\n  fetch(url + '/productdata').then(response => {\n    //  console.log(response.json());\n    return response.json();\n  }).then(data => {\n    setProduct(data); //  console.log(data);\n  });\n\n  const addData = item => {\n    const index = CartData.findIndex(data => data.product_id === item.product_id);\n\n    if (index >= 0) {\n      CartData[index][\"product_quantity\"] += 1;\n      setCartData(CartData);\n    } else {\n      setCartData([...CartData, {\n        \"product_quantity\": 1,\n        \"user_id\": \"614ffa63-0c67-11eb-bdcf-03b990a51dac\",\n        \"product_id\": item.product_id\n      }]);\n    }\n\n    console.log(CartData);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"checkout\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 21\n    }\n  }, \"Checkout\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, params.uid), ProductData.map(function (item, i) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"product__img\",\n      src: item.logo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product__desc\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }\n    }, item.description), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product__qty\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 29\n      }\n    }, \"Select Quantity\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      defaultValue: \"0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 29\n      }\n    }, \"Quantity Available\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"available\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 29\n      }\n    }, item.quantity)), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: () => addData(item),\n      variant: \"contained\",\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 25\n      }\n    }, \"ADD\"))));\n  }));\n}\n\nexport default ProductSelect;","map":{"version":3,"sources":["/home/aayush/Desktop/Customer-service-automation/CustomerServiceAutomation/FrontEnd_CSA/customer_service_automation/src/ProductSelect.js"],"names":["React","useState","Button","Link","useParams","url","ProductSelect","params","ProductData","setProduct","CartData","setCartData","fetch","then","response","json","data","addData","item","index","findIndex","product_id","console","log","uid","map","i","logo","description","quantity"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport './ProductSelect.css'\r\nimport {\r\n    Link,\r\n    useParams\r\n  } from \"react-router-dom\";\r\nconst url = \"http://127.0.0.1:8000\";\r\n\r\n// const requestOptions = {\r\n//     method: 'POST',\r\n//     headers: { 'Content-Type': 'application/json' },\r\n//     body: JSON.stringify([{\"user_id\":\"614ffa63-0c67-11eb-bdcf-03b990a51dac\",\"product_id\":\"5a5ea613-40a1-41b1-92f3-00fa4eb251d8\",\"product_quantity\":2},{\"user_id\":\"614ffa63-0c67-11eb-bdcf-03b990a51dac\",\"product_id\":\"5899b6bd-0b9e-48b9-be4b-4ccbf75188ab\",\"product_quantity\":1}])\r\n// };\r\n// fetch(url+'/placeorder', requestOptions)\r\n//     .then(response => response.json())\r\n//     .then(data => {return { postId: data.id }});\r\n\r\nfunction ProductSelect() {\r\n    const params = useParams();\r\n    const [ProductData,setProduct] = useState([]);\r\n    const [CartData,setCartData] = useState([]);\r\n        fetch(url+'/productdata')\r\n              .then((response) => {\r\n               //  console.log(response.json());\r\n                return response.json();\r\n               })\r\n               .then((data)=>{\r\n                 setProduct(data);\r\n                //  console.log(data);\r\n               });\r\n\r\n    const addData = (item) => {\r\n        const index = CartData.findIndex(\r\n            (data) => data.product_id === item.product_id\r\n          );\r\n       \r\n        if(index >= 0){\r\n            CartData[index][\"product_quantity\"] += 1\r\n            setCartData(CartData);\r\n        }\r\n        else{\r\n            setCartData([...CartData,{\"product_quantity\":1,\"user_id\":\"614ffa63-0c67-11eb-bdcf-03b990a51dac\",\"product_id\":item.product_id}])\r\n        }\r\n        console.log(CartData);\r\n    }\r\n    return (\r\n        <div>\r\n            <div className=\"checkout\">\r\n                    <Button variant=\"contained\" color=\"primary\" >\r\n                        Checkout\r\n                    </Button>\r\n                </div>\r\n            <div>{params.uid}</div>\r\n            {ProductData.map(function (item,i){\r\n                return(\r\n                <div className=\"product\">\r\n                    <img className=\"product__img\" src={item.logo}></img>\r\n                    <div className=\"product__desc\">{item.description}</div>\r\n                    <div className=\"product__qty\">\r\n                        <div>\r\n                            <label>Select Quantity</label>\r\n                            <br></br>\r\n                            <input type=\"text\" defaultValue=\"0\" ></input>\r\n                        </div>\r\n                        <div>\r\n                            <label>Quantity Available</label>\r\n                            <p className=\"available\">{item.quantity}</p>\r\n                        </div>\r\n                        <div>\r\n                        <Button onClick={() => addData(item)} variant=\"contained\" color=\"primary\">\r\n                        ADD</Button>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                </div>)\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProductSelect\r\n"]},"metadata":{},"sourceType":"module"}