{"ast":null,"code":"var _jsxFileName = \"/home/aayush/Desktop/Customer-service-automation/CustomerServiceAutomation/FrontEnd_CSA/customer_service_automation/src/ProductSelect.js\";\nimport React, { useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport './ProductSelect.css';\nconst url = \"http://127.0.0.1:8000\"; // const requestOptions = {\n//     method: 'POST',\n//     headers: { 'Content-Type': 'application/json' },\n//     body: JSON.stringify([{\"user_id\":\"614ffa63-0c67-11eb-bdcf-03b990a51dac\",\"product_id\":\"5a5ea613-40a1-41b1-92f3-00fa4eb251d8\",\"product_quantity\":2},{\"user_id\":\"614ffa63-0c67-11eb-bdcf-03b990a51dac\",\"product_id\":\"5899b6bd-0b9e-48b9-be4b-4ccbf75188ab\",\"product_quantity\":1}])\n// };\n// fetch(url+'/placeorder', requestOptions)\n//     .then(response => response.json())\n//     .then(data => {return { postId: data.id }});\n\nfunction ProductSelect() {\n  const reduce = quantity => {\n    if (quantity <= 0) {}\n  };\n\n  const increase = quantity => {\n    if (quantity <= 0) {}\n  };\n\n  const [ProductData, setProduct] = useState([]);\n  const [CartData, setCartData] = useState([]);\n  fetch(url + '/productdata').then(response => {\n    //  console.log(response.json());\n    return response.json();\n  }).then(data => {\n    setProduct(data);\n    console.log(data);\n  });\n\n  const addData = item => {\n    const index = CartData.findIndex(data => data.product_id === item.id);\n    console.log(CartData);\n\n    if (index >= 0) {\n      CartData[index][\"product_quantity\"] += 1;\n      setCartData(CartData);\n    } else {\n      setCartData([...CartData, {\n        \"product_quantity\": 1,\n        \"user_id\": \"614ffa63-0c67-11eb-bdcf-03b990a51dac\",\n        \"product_id\": item.id\n      }]);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"checkout\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 21\n    }\n  }, \"Checkout\")), ProductData.map(function (item, i) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"product__img\",\n      src: item.logo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product__desc\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }\n    }, item.description), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"product__qty\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 29\n      }\n    }, \"Select Quantity\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      defaultValue: \"0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 29\n      }\n    }, \"Quantity Available\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"available\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 29\n      }\n    }, item.quantity)), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: () => addData(item),\n      variant: \"contained\",\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 25\n      }\n    }, \"ADD\"))));\n  }));\n}\n\nexport default ProductSelect;","map":{"version":3,"sources":["/home/aayush/Desktop/Customer-service-automation/CustomerServiceAutomation/FrontEnd_CSA/customer_service_automation/src/ProductSelect.js"],"names":["React","useState","Button","url","ProductSelect","reduce","quantity","increase","ProductData","setProduct","CartData","setCartData","fetch","then","response","json","data","console","log","addData","item","index","findIndex","product_id","id","map","i","logo","description"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport './ProductSelect.css'\r\nconst url = \"http://127.0.0.1:8000\";\r\n\r\n// const requestOptions = {\r\n//     method: 'POST',\r\n//     headers: { 'Content-Type': 'application/json' },\r\n//     body: JSON.stringify([{\"user_id\":\"614ffa63-0c67-11eb-bdcf-03b990a51dac\",\"product_id\":\"5a5ea613-40a1-41b1-92f3-00fa4eb251d8\",\"product_quantity\":2},{\"user_id\":\"614ffa63-0c67-11eb-bdcf-03b990a51dac\",\"product_id\":\"5899b6bd-0b9e-48b9-be4b-4ccbf75188ab\",\"product_quantity\":1}])\r\n// };\r\n// fetch(url+'/placeorder', requestOptions)\r\n//     .then(response => response.json())\r\n//     .then(data => {return { postId: data.id }});\r\n\r\nfunction ProductSelect() {\r\n    const reduce=(quantity)=>{\r\n        if(quantity<=0){\r\n            \r\n        }\r\n    }\r\n    const increase=(quantity)=>{\r\n        if(quantity<=0){\r\n            \r\n        }\r\n    }\r\n    const [ProductData,setProduct] = useState([]);\r\n    const [CartData,setCartData] = useState([]);\r\n        fetch(url+'/productdata')\r\n              .then((response) => {\r\n               //  console.log(response.json());\r\n                return response.json();\r\n               })\r\n               .then((data)=>{\r\n                 setProduct(data);\r\n                 console.log(data);\r\n               });\r\n\r\n    const addData = (item) => {\r\n        const index = CartData.findIndex(\r\n            (data) => data.product_id === item.id\r\n          );\r\n        console.log(CartData);\r\n        if(index >= 0){\r\n            CartData[index][\"product_quantity\"] += 1\r\n            setCartData(CartData);\r\n        }\r\n        else{\r\n            setCartData([...CartData,{\"product_quantity\":1,\"user_id\":\"614ffa63-0c67-11eb-bdcf-03b990a51dac\",\"product_id\":item.id}])\r\n        }\r\n        \r\n    }\r\n    return (\r\n        <div>\r\n            <div className=\"checkout\">\r\n                    <Button variant=\"contained\" color=\"primary\" >\r\n                        Checkout\r\n                    </Button>\r\n                </div>\r\n            {ProductData.map(function (item,i){\r\n                return(\r\n                <div className=\"product\">\r\n                    <img className=\"product__img\" src={item.logo}></img>\r\n                    <div className=\"product__desc\">{item.description}</div>\r\n                    <div className=\"product__qty\">\r\n                        <div>\r\n                            <label>Select Quantity</label>\r\n                            <br></br>\r\n                            <input type=\"text\" defaultValue=\"0\" ></input>\r\n                        </div>\r\n                        <div>\r\n                            <label>Quantity Available</label>\r\n                            <p className=\"available\">{item.quantity}</p>\r\n                        </div>\r\n                        <div>\r\n                        <Button onClick={() => addData(item)} variant=\"contained\" color=\"primary\">\r\n                        ADD</Button>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                </div>)\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProductSelect\r\n"]},"metadata":{},"sourceType":"module"}